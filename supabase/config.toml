project_id = "rrmvxsldrjgbdxluklka"

[api]
enabled = true
port = 54321
schemas = ["public", "graphql_public"]
extra_search_path = ["public", "extensions"]
max_rows = 1000

[auth]
enabled = true
port = 54324
site_url = "http://localhost:3000"
additional_redirect_urls = ["https://rrmvxsldrjgbdxluklka.supabase.co"]
jwt_expiry = 3600
enable_signup = true

[db]
port = 54322

[storage]
enabled = true
port = 54323
buckets = []

[edge_runtime]
enabled = true
port = 54325

[analytics]
enabled = false

# SECURITY: Functions requiring user authentication
[functions.ai-assistant]
verify_jwt = true

[functions.generate-media]
verify_jwt = true

[functions.campaign-automation]
verify_jwt = true

[functions.send-email]
verify_jwt = true

[functions.send-email-resend]
verify_jwt = true

[functions.send-campaign-emails]
verify_jwt = true

[functions.process-ai-requests]
verify_jwt = true

[functions.connect-sofinity]
verify_jwt = true

[functions.disconnect-sofinity]
verify_jwt = true

# SECURITY: Webhook endpoints with custom authentication
[functions.email-events-ingest]
verify_jwt = false

[functions.opravo-integration]
verify_jwt = false

[functions.sofinity-event]
verify_jwt = false

[functions.insert_opravo_job]
verify_jwt = false

[functions.sofinity-api]
verify_jwt = false

[functions.connect-opravo-sofinity]
verify_jwt = false

[functions.sofinity-opravo-status]
verify_jwt = false

[functions.opravo-status]
verify_jwt = false

[functions.opravo-email-metrics-sync]
verify_jwt = false

[functions.opravo-offers-integration]
verify_jwt = false

# SECURITY: Internal/cron functions with service role
[functions.automated-monitoring]
verify_jwt = false

[functions.automated-workflow]
verify_jwt = false

[functions.fn_scheduler_daily]
verify_jwt = false

[functions.fix-missing-events]
verify_jwt = false

[functions.standardize-event]
verify_jwt = false

[functions.ai-evaluator]
verify_jwt = false

[functions.on-project-connection]
verify_jwt = false

[functions.process-notification-queue]
verify_jwt = false

# SECURITY: Test functions
[functions.batch-email-test]
verify_jwt = false

[functions.storage-soft-rollback]
verify_jwt = false

[functions.sofinity-agent-dispatcher]
verify_jwt = false

[functions.export-db-snapshot]
verify_jwt = false

[functions.create_notification]
verify_jwt = false

# ✅ SECURED: sofinity-player-sync now requires JWT authentication
# verify_jwt = false because function implements custom JWT verification with detailed error messages
[functions.sofinity-player-sync]
verify_jwt = false

# ✅ SECURED: player-sync-receiver with auto-profile creation
[functions.player-sync-receiver]
verify_jwt = false

# DIAGNOSTIC: OneSignal push notification tester
[functions.send_push_via_onesignal]
verify_jwt = false

[functions.test-push-notification]
verify_jwt = false

# OneSignal configuration endpoint (public - returns only App ID)
[functions.get-onesignal-config]
verify_jwt = false

# Customer message intake webhook from OneMil (custom token auth)
[functions.sofinity-message-intake]
verify_jwt = false

[functions.auto-reply-customer]
verify_jwt = false
